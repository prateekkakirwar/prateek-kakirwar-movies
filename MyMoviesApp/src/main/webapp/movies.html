<!doctype html>
<html lang="en" ng-app="MyMoviesApp">
<head>
<meta charset="utf-8">
<title>My Movies Application - Movies</title>
<link rel="stylesheet" href="css/bootstrap.css" type="text/css">
<link rel="stylesheet" type="text/css" href="css/navigation.css" />
<script src="js/angular.min.js"></script>
<script src="js/mymoviesappcontroller.js"></script>
</head>
<body>
    <div class="container">
        <h1>My Movies App - Movies</h1> 
        <div id="navigation"> 
		<ul> 
			<li><a href="users.html" id="current">Users</a></li> 
			<li><a href="movies.html">Movies</a></li> 
			<li><a href="theatres.html">Theatres</a></li> 
			<li><a href="shows.html">Shows</a></li>			   
		</ul> 
   		</div>          
        <div class="row">            
            <div class="span4">
                <!-- Movie search -->
                <div ng-controller="MovieSearchController">
                    <h3><i class="icon-music"></i> Find Movies</h3>
                    <p ng-class="{'alert alert-error':errorStatus,'alert alert-success':!errorStatus}">{{messageText}}</p>
                    Movie Name         <input ng-model="searchMovieName" /> 
                    Movie Release Date <input ng-model="searchReleaseDate" />
                    Movie Rating       <input ng-model="searchMovieRating" /> 
                    Movie Genre        <input ng-model="searchMovieGenre" />
                    <a class="btn btn-success" ng-click="search()"><i class="icon-search"></i> Search</a>
                    <div>
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Movie Name</th>
                                    <th>Movie Release Date</th>
                                    <th>Movie Rating</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="movie in movies">
                                    <td>{{movie.movie.id}}</td>
                                    <td>{{movie.movie.movieName}}</td>
                                    <td>{{(movie.movie.releaseDate | date : date : 'YYYY-MM-DD' )}}</td>
                                    <td>{{movie.movie.rating}}</td>
                                </tr>
                            </tbody>
                        </table>                        
                    </div>                         
                    <div class="muted">
                        <h6>DEBUG</h6>
                        <p>HTTP Response status {{httpStatus}}</p>
                        <p>HTTP Response body {{httpData | json}}</p>                      
                    </div>                    
                </div>                
            </div>
            <div class="span4">
                <!-- New Movie -->
                <div ng-controller="MyMoviesAppAddMovieController">
                    <h3><i class="icon-music"></i> New Movie Entry</h3>
                    <p ng-class="{'alert alert-error':errorStatus,'alert alert-success':!errorStatus}">{{messageText}}</p>
                    Movie Name <input ng-model="createMovieName" /><br/> 
                    Movie Release Date <input ng-model="createReleaseDate" /><br/>
                    Movie Rating <input ng-model="createRating" /><br/> 
                    Movie Genre <input ng-model="createGenre" /><br/>
                    <a class="btn btn-success" ng-click="create()"><i class="icon-plus-sign"></i> Add Movie</a>
                    
                    
                    <div class="muted">
                        <h6>DEBUG</h6>
                        <p>HTTP Response status {{httpStatus}}</p>
                        <p>HTTP Response body {{httpData | json}}</p>                      
                    </div>
                </div>
            </div>
        </div>        
    </div>
</body>
</html>