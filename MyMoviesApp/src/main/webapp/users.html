<!doctype html>
<html lang="en" ng-app="MyMoviesApp">
<head>
<meta charset="utf-8">
<title>My Movies Application - Users</title>
<link rel="stylesheet" href="css/bootstrap.css" type="text/css">
<link rel="stylesheet" type="text/css" href="css/navigation.css" />
<script src="js/angular.min.js"></script>
<script src="js/mymoviesappcontroller.js"></script>
</head>
<body>
    <div class="container">
        <h1>My Movies App - Users</h1>    
        <div id="navigation"> 
		<ul> 
			<li><a href="users.html" id="current">Users</a></li> 
			<li><a href="movies.html">Movies</a></li> 
			<li><a href="theatres.html">Theatres</a></li> 
			<li><a href="shows.html">Shows</a></li>			   
		</ul> 
   		</div>     
        <div class="row">            
            <div class="span4">
                <!-- User search -->
                <div ng-controller="UserSearchController">
                    <h3><i class="icon-user"></i> Find Users</h3>
                    <p ng-class="{'alert alert-error':errorStatus,'alert alert-success':!errorStatus}">{{messageText}}</p>
                    First Name <input ng-model="searchFirstName" /> 
                    Last Name <input ng-model="searchLastName" />
                    <a class="btn btn-success" ng-click="search()"><i class="icon-search"></i> Search</a>
                    <div>
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Last Name</th>
                                    <th>First Name</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="user in users">
                                    <td>{{user.user.id}}</td>
                                    <td>{{user.user.lastName}}</td>
                                    <td>{{user.user.firstName}}</td>
                                </tr>
                            </tbody>
                        </table>                        
                    </div>                         
                    <div class="muted">
                        <h6>DEBUG</h6>
                        <p>HTTP Response status {{httpStatus}}</p>
                        <p>HTTP Response body {{httpData | json}}</p>                      
                    </div>                    
                </div>                
            </div>
            <div class="span4">
                <!-- New Customer -->
                <div ng-controller="MyMoviesAppAddUserController">
                    <h3><i class="icon-user"></i> New Signup</h3>
                    <p ng-class="{'alert alert-error':errorStatus,'alert alert-success':!errorStatus}">{{messageText}}</p>
                    First Name <input ng-model="createFirstName" /><br/>
                    Last Name <input ng-model="createLastName" /><br/>
                    Email <input ng-model="createEmail" /><br/>
                    <a class="btn btn-success" ng-click="create()"><i class="icon-plus-sign"></i> Create User</a>
                    
                    
                    <div class="muted">
                        <h6>DEBUG</h6>
                        <p>HTTP Response status {{httpStatus}}</p>
                        <p>HTTP Response body {{httpData | json}}</p>                      
                    </div>
                </div>
            </div>
        </div>        
    </div>
</body>
</html>